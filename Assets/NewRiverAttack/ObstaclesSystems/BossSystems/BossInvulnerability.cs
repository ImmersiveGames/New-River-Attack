using ImmersiveGames.AudioEvents;
using UnityEngine;

namespace NewRiverAttack.ObstaclesSystems.BossSystems
{
    public class BossInvulnerability : MonoBehaviour
    {
        [SerializeField] private AudioEvent audioExplosion;
        private Collider _collider;
        private AudioSource _audioSource;
       
        private void Start()
        {
            SetInitialReferences();
        }

        private void SetInitialReferences()
        {
            _collider = GetComponentInChildren<Collider>();
            _audioSource = GetComponent<AudioSource>();
        }

        public void BossInvulnerabilityOn()
        {
            _collider.enabled = false;
        }
        public void BossInvulnerabilityOff()
        {
            _collider.enabled = true;
        }
        //Audio in animation
        public void ExplodeSound()
        {
            _audioSource = GetComponent<AudioSource>();
            audioExplosion.PlayOnShot(_audioSource);
        }
    }
}